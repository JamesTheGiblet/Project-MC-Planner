// --- Board Data ---
const boardData = {
    rpi4: {
        title: 'Raspberry Pi 4 Pinout',
        name: 'Raspberry Pi 4 Model B',
        image: 'images/Raspberry_Pi_4B_schematics_pins.png',
        width: 2100,
        height: 1270,
        pinLayout: {
            top: '6.4%', right: '30.6%', gap: '0.8% 5%' },
        layout: '2col-grid',
        pins: [
            { name: '3.3V', type: 'power', title: 'Pin 1: 3.3V Power Rail' },
            { name: '5V', type: 'power', title: 'Pin 2: 5V Power Rail' },
            { name: '2', type: 'i2c', title: 'Pin 3: GPIO 2 (I2C1, SDA)' },
            { name: '5V', type: 'power', title: 'Pin 4: 5V Power Rail' },
            { name: '3', type: 'i2c', title: 'Pin 5: GPIO 3 (I2C1, SCL)' },
            { name: 'GND', type: 'ground', title: 'Pin 6: Ground' },
            { name: '4', type: 'gpio', title: 'Pin 7: GPIO 4 (GPCLK0)' },
            { name: '14', type: 'uart', title: 'Pin 8: GPIO 14 (UART TXD)' },
            { name: 'GND', type: 'ground', title: 'Pin 9: Ground' },
            { name: '15', type: 'uart', title: 'Pin 10: GPIO 15 (UART RXD)' },
            { name: '17', type: 'gpio', title: 'Pin 11: GPIO 17' },
            { name: '18', type: 'gpio', title: 'Pin 12: GPIO 18 (PWM0)' },
            { name: '27', type: 'gpio', title: 'Pin 13: GPIO 27' },
            { name: 'GND', type: 'ground', title: 'Pin 14: Ground' },
            { name: '22', type: 'gpio', title: 'Pin 15: GPIO 22' },
            { name: '23', type: 'gpio', title: 'Pin 16: GPIO 23' },
            { name: '3.3V', type: 'power', title: 'Pin 17: 3.3V Power Rail' },
            { name: '24', type: 'gpio', title: 'Pin 18: GPIO 24' },
            { name: '10', type: 'spi', title: 'Pin 19: GPIO 10 (SPI0, MOSI)' },
            { name: 'GND', type: 'ground', title: 'Pin 20: Ground' },
            { name: '9', type: 'spi', title: 'Pin 21: GPIO 9 (SPI0, MISO)' },
            { name: '25', type: 'gpio', title: 'Pin 22: GPIO 25' },
            { name: '11', type: 'spi', title: 'Pin 23: GPIO 11 (SPI0, SCLK)' },
            { name: '8', type: 'spi', title: 'Pin 24: GPIO 8 (SPI0, CE0)' },
            { name: 'GND', type: 'ground', title: 'Pin 25: Ground' },
            { name: '7', type: 'spi', title: 'Pin 26: GPIO 7 (SPI0, CE1)' },
            { name: 'ID_SD', type: 'i2c', title: 'Pin 27: ID_SD (I2C ID EEPROM)' },
            { name: 'ID_SC', type: 'i2c', title: 'Pin 28: ID_SC (I2C ID EEPROM)' },
            { name: '5', type: 'gpio', title: 'Pin 29: GPIO 5' },
            { name: 'GND', type: 'ground', title: 'Pin 30: Ground' },
            { name: '6', type: 'gpio', title: 'Pin 31: GPIO 6' },
            { name: '12', type: 'gpio', title: 'Pin 32: GPIO 12 (PWM0)' },
            { name: '13', type: 'gpio', title: 'Pin 33: GPIO 13 (PWM1)' },
            { name: 'GND', type: 'ground', title: 'Pin 34: Ground' },
            { name: '19', type: 'spi', title: 'Pin 35: GPIO 19 (SPI1, MISO)' },
            { name: '16', type: 'gpio', title: 'Pin 36: GPIO 16' },
            { name: '26', type: 'gpio', title: 'Pin 37: GPIO 26' },
            { name: '20', type: 'spi', title: 'Pin 38: GPIO 20 (SPI1, MOSI)' },
            { name: 'GND', type: 'ground', title: 'Pin 39: Ground' },
            { name: '21', type: 'spi', title: 'Pin 40: GPIO 21 (SPI1, SCLK)' },
        ]
    },
uno: {
    title: 'Arduino Uno Pinout',
    name: 'Arduino Uno R3',
    image: 'images/arduino_UNO_schematics_pins.png',
    width: 1050,
    height: 815,
    layout: '2col-grid',
    pinLayout: { 
        top: '33%', 
        left: '15%',      // Left column position
        right: '2.5%',     // Right column position
        gap: '0.8% 60%'   // Horizontal gap between columns
    },
    pins: [
        // LEFT COLUMN (Digital/Analog Pins) - Top to Bottom
        { name: 'D0/RX', type: 'uart', title: 'Digital Pin 0: RX (Serial Receive)', side: 'left' },
        { name: 'D1/TX', type: 'uart', title: 'Digital Pin 1: TX (Serial Transmit)', side: 'left' },
        { name: 'D2', type: 'digital', title: 'Digital Pin 2 (External Interrupt)', side: 'left' },
        { name: 'D3~', type: 'pwm', title: 'Digital Pin 3: PWM (External Interrupt)', side: 'left' },
        { name: 'D4', type: 'digital', title: 'Digital Pin 4', side: 'left' },
        { name: 'D5~', type: 'pwm', title: 'Digital Pin 5: PWM', side: 'left' },
        { name: 'D6~', type: 'pwm', title: 'Digital Pin 6: PWM', side: 'left' },
        { name: 'D7', type: 'digital', title: 'Digital Pin 7', side: 'left' },
        { name: 'D8', type: 'digital', title: 'Digital Pin 8', side: 'left' },
        { name: 'D9~', type: 'pwm', title: 'Digital Pin 9: PWM', side: 'left' },
        { name: 'D10~', type: 'pwm', title: 'Digital Pin 10: PWM (SPI SS)', side: 'left' },
        { name: 'D11~', type: 'pwm', title: 'Digital Pin 11: PWM (SPI COPI/MOSI)', side: 'left' },
        { name: 'D12', type: 'spi', title: 'Digital Pin 12 (SPI CIPO/MISO)', side: 'left' },
        { name: 'D13', type: 'spi', title: 'Digital Pin 13 (SPI SCK, Built-in LED)', side: 'left' },
        
        // RIGHT COLUMN (Power & Analog Pins) - Top to Bottom
        { name: 'GND', type: 'ground', title: 'Ground', side: 'right' },
        { name: 'AREF', type: 'analog', title: 'Analog Reference Voltage', side: 'right' },
        { name: 'A0', type: 'analog', title: 'Analog Input 0', side: 'right' },
        { name: 'A1', type: 'analog', title: 'Analog Input 1', side: 'right' },
        { name: 'A2', type: 'analog', title: 'Analog Input 2', side: 'right' },
        { name: 'A3', type: 'analog', title: 'Analog Input 3', side: 'right' },
        { name: 'A4', type: 'i2c', title: 'Analog Input 4 / I2C SDA', side: 'right' },
        { name: 'A5', type: 'i2c', title: 'Analog Input 5 / I2C SCL', side: 'right' },
        { name: 'RESET', type: 'system', title: 'Reset', side: 'right' },
        { name: '3.3V', type: 'power', title: '3.3V Output (50mA max)', side: 'right' },
        { name: '5V', type: 'power', title: '5V Output', side: 'right' },
        { name: 'GND', type: 'ground', title: 'Ground', side: 'right' },
        { name: 'GND', type: 'ground', title: 'Ground', side: 'right' },
        { name: 'VIN', type: 'power', title: 'Voltage Input (6-20V)', side: 'right' }
    ]
    },
    esp32: {
        title: 'ESP32 DevKitC Pinout',
        name: 'ESP32 DevKitC',
        image: 'images/ESP32_schematics_pins.png', // <-- Updated Image
        width: 1400,
        height: 1056,
        pinLayout: { top: '6%', right: '11%', gap: '4% 42.5%' }, // Adjusted layout for new image
        layout: '2col-grid',
        pins: [
            // Left Side
            { name: 'EN', type: 'power', title: 'EN: Enable (HIGH for normal operation)' },
            { name: 'VP', type: 'gpio', title: 'GPIO36 (ADC1_0, SensVP)' },
            { name: 'VN', type: 'gpio', title: 'GPIO39 (ADC1_3, SensVN)' },
            { name: '34', 'type': 'gpio', title: 'GPIO34 (ADC1_6)' },
            { name: '35', 'type': 'gpio', title: 'GPIO35 (ADC1_7)' },
            { name: '32', type: 'gpio', title: 'GPIO32 (ADC1_4, Touch9)' },
            { name: '33', type: 'gpio', title: 'GPIO33 (ADC1_5, Touch8)' },
            { name: '25', type: 'gpio', title: 'GPIO25 (ADC2_8, DAC1)' },
            { name: '26', type: 'gpio', title: 'GPIO26 (ADC2_9, DAC2)' },
            { name: '27', type: 'gpio', title: 'GPIO27 (ADC2_7, Touch7)' },
            { name: '14', type: 'gpio', title: 'GPIO14 (HSPI_CLK, Touch6)' },
            { name: '12', type: 'gpio', title: 'GPIO12 (HSPI_MISO, Touch5)' },
            { name: '13', type: 'gpio', title: 'GPIO13 (HSPI_MOSI, Touch4)' },
            { name: 'GND', type: 'ground', title: 'Ground' },
            { name: 'VIN', type: 'power', title: '5V Power Input' },
            // Right Side
            { name: '23', type: 'spi', title: 'GPIO23 (VSPI_MOSI)' },
            { name: '22', type: 'i2c', title: 'GPIO22 (I2C SCL)' },
            { name: '1', type: 'uart', title: 'GPIO1 (U0_TXD)' },
            { name: '3', type: 'uart', title: 'GPIO3 (U0_RXD)' },
            { name: '21', type: 'i2c', title: 'GPIO21 (I2C SDA)' },
            { name: '19', type: 'spi', title: 'GPIO19 (VSPI_MISO)' },
            { name: '18', type: 'spi', title: 'GPIO18 (VSPI_SCK)' },
            { name: '5', type: 'spi', title: 'GPIO5 (VSPI_CS)' },
            { name: '17', type: 'uart', title: 'GPIO17 (U2_TXD)' },
            { name: '16', type: 'uart', title: 'GPIO16 (U2_RXD)' },
            { name: '4', type: 'gpio', title: 'GPIO4 (ADC2_0, Touch0)' },
            { name: '2', type: 'gpio', title: 'GPIO2 (ADC2_2, Touch2)' },
            { name: '15', type: 'gpio', title: 'GPIO15 (ADC2_3, Touch3)' },
            { name: 'GND', type: 'ground', title: 'Ground' },
            { name: '3.3V', type: 'power', title: '3.3V Power Output' },
        ]
    }
};